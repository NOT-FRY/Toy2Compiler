<ProgramOp>
    <ProcedureOp>
        <Identifier>
            main
        </Identifier>
        <BodyOp>
            <VarDeclOp>
                <IdentifierExpression>
                    <Identifier>
                        a
                    </Identifier>
                </IdentifierExpression>
                <IdentifierExpression>
                    <Identifier>
                        b
                    </Identifier>
                </IdentifierExpression>
                <IdentifierExpression>
                    <Identifier>
                        risultato
                    </Identifier>
                </IdentifierExpression>
                <Type>
                    REAL
                </Type>
                <DeclarationType>
                    DECLARATION
                </DeclarationType>
            </VarDeclOp>
            <VarDeclOp>
                <IdentifierExpression>
                    <Identifier>
                        ans
                    </Identifier>
                    <Integer_const>
                        1
                    </Integer_const>
                </IdentifierExpression>
                <DeclarationType>
                    INITIALIZATION
                </DeclarationType>
            </VarDeclOp>
            <ReadStatement>
                <IOArg>
                    <DollarSign/>
                    <Identifier>
                        ans
                    </Identifier>
                </IOArg>
                <IOArg>
                    <String_const>
                        scegli un'operazione (0 o 1.Per uscire 2.Addizione 3.Sottrazione 4.Moltiplicazione 5.Divisione)
                    </String_const>
                </IOArg>
            </ReadStatement>
            <WhileStatement>
                <AndOp>
                    <leftVal>
                        <NEOp>
                            <leftVal>
                                <Identifier>
                                    ans
                                </Identifier>
                            </leftVal>
                            <rightVal>
                                <Integer_const>
                                    0
                                </Integer_const>
                            </rightVal>
                        </NEOp>
                    </leftVal>
                    <rightVal>
                        <NEOp>
                            <leftVal>
                                <Identifier>
                                    ans
                                </Identifier>
                            </leftVal>
                            <rightVal>
                                <Integer_const>
                                    1
                                </Integer_const>
                            </rightVal>
                        </NEOp>
                    </rightVal>
                </AndOp>
                <BodyOp>
                    <ReadStatement>
                        <IOArg>
                            <DollarSign/>
                            <Identifier>
                                a
                            </Identifier>
                        </IOArg>
                        <IOArg>
                            <String_const>
                                inserisci il primo numero: 
                            </String_const>
                        </IOArg>
                    </ReadStatement>
                    <ReadStatement>
                        <IOArg>
                            <DollarSign/>
                            <Identifier>
                                b
                            </Identifier>
                        </IOArg>
                        <IOArg>
                            <String_const>
                                inserisci il secondo numero: 
                            </String_const>
                        </IOArg>
                    </ReadStatement>
                    <IfStatement>
                        <EQOp>
                            <leftVal>
                                <Identifier>
                                    ans
                                </Identifier>
                            </leftVal>
                            <rightVal>
                                <Integer_const>
                                    2
                                </Integer_const>
                            </rightVal>
                        </EQOp>
                        <BodyOp>
                            <AssignStatement>
                                <Identifier>
                                    risultato
                                </Identifier>
                                <FunCallOp>
                                    <Identifier>
                                        somma
                                    </Identifier>
                                        <Parameters>
                                        <Identifier>
                                            a
                                        </Identifier>
                                        <Identifier>
                                            b
                                        </Identifier>
                                    </Parameters>
                                </FunCallOp>
                            </AssignStatement>
                        </BodyOp>
                        <ElifOp>
                            <EQOp>
                                <leftVal>
                                    <Identifier>
                                        ans
                                    </Identifier>
                                </leftVal>
                                <rightVal>
                                    <Integer_const>
                                        3
                                    </Integer_const>
                                </rightVal>
                            </EQOp>
                            <BodyOp>
                                <AssignStatement>
                                    <Identifier>
                                        risultato
                                    </Identifier>
                                    <FunCallOp>
                                        <Identifier>
                                            sottrazione
                                        </Identifier>
                                            <Parameters>
                                            <Identifier>
                                                a
                                            </Identifier>
                                            <Identifier>
                                                b
                                            </Identifier>
                                        </Parameters>
                                    </FunCallOp>
                                </AssignStatement>
                            </BodyOp>
                        </ElifOp>
                        <ElifOp>
                            <EQOp>
                                <leftVal>
                                    <Identifier>
                                        ans
                                    </Identifier>
                                </leftVal>
                                <rightVal>
                                    <Integer_const>
                                        4
                                    </Integer_const>
                                </rightVal>
                            </EQOp>
                            <BodyOp>
                                <ProcCallOp>
                                    <Identifier>
                                        divisione
                                    </Identifier>
                                    <ProcedureExpression>
                                        <Identifier>
                                            a
                                        </Identifier>
                                    </ProcedureExpression>
                                    <ProcedureExpression>
                                        <Identifier>
                                            b
                                        </Identifier>
                                    </ProcedureExpression>
                                    <ProcedureExpression reference='true'>
                                        <Identifier>
                                            risultato
                                        </Identifier>
                                    </ProcedureExpression>
                                </ProcCallOp>
                            </BodyOp>
                        </ElifOp>
                        <ElifOp>
                            <EQOp>
                                <leftVal>
                                    <Identifier>
                                        ans
                                    </Identifier>
                                </leftVal>
                                <rightVal>
                                    <Integer_const>
                                        5
                                    </Integer_const>
                                </rightVal>
                            </EQOp>
                            <BodyOp>
                                <ProcCallOp>
                                    <Identifier>
                                        moltiplicazione
                                    </Identifier>
                                    <ProcedureExpression>
                                        <Identifier>
                                            a
                                        </Identifier>
                                    </ProcedureExpression>
                                    <ProcedureExpression>
                                        <Identifier>
                                            b
                                        </Identifier>
                                    </ProcedureExpression>
                                    <ProcedureExpression reference='true'>
                                        <Identifier>
                                            risultato
                                        </Identifier>
                                    </ProcedureExpression>
                                </ProcCallOp>
                            </BodyOp>
                        </ElifOp>
                        <ElseOp>
                            <BodyOp>
                                <WriteStatement>
                                    <WritingType>
                                        WRITE_RETURN
                                    </WritingType>
                                    <IOArg>
                                        <String_const>
                                            Seleziona un comando valido
                                        </String_const>
                                    </IOArg>
                                </WriteStatement>
                            </BodyOp>
                        </ElseOp>
                    </IfStatement>
                    <WriteStatement>
                        <WritingType>
                            WRITE_RETURN
                        </WritingType>
                        <IOArg>
                            <DollarSign/>
                            <Identifier>
                                risultato
                            </Identifier>
                        </IOArg>
                        <IOArg>
                            <String_const>
                                il risultato è¨: 
                            </String_const>
                        </IOArg>
                    </WriteStatement>
                    <ReadStatement>
                        <IOArg>
                            <DollarSign/>
                            <Identifier>
                                ans
                            </Identifier>
                        </IOArg>
                        <IOArg>
                            <String_const>
                                scegli un'operazione (0 o 1 .Per uscire 2.Addizione 3.Sottrazione 4.Moltiplicazione 5.Divisione)
                            </String_const>
                        </IOArg>
                    </ReadStatement>
                </BodyOp>
            </WhileStatement>
            <WriteStatement>
                <WritingType>
                    WRITE_RETURN
                </WritingType>
                <IOArg>
                    <String_const>
                        ciao
                    </String_const>
                </IOArg>
            </WriteStatement>
        </BodyOp>
    </ProcedureOp>
    <ProcedureOp>
        <Identifier>
            divisione
        </Identifier>
        <ProcFunParamOp>
            <Identifier qualifier='INOUT'>
                a
            </Identifier>
            <Type>
                REAL
            </Type>
        </ProcFunParamOp>
        <ProcFunParamOp>
            <Identifier qualifier='INOUT'>
                b
            </Identifier>
            <Type>
                REAL
            </Type>
        </ProcFunParamOp>
        <ProcFunParamOp>
            <Identifier qualifier='OUT'>
                risultato
            </Identifier>
            <Type>
                REAL
            </Type>
        </ProcFunParamOp>
        <BodyOp>
            <AssignStatement>
                <Identifier>
                    risultato
                </Identifier>
                <DivOp>
                    <leftVal>
                        <Identifier>
                            a
                        </Identifier>
                    </leftVal>
                    <rightVal>
                        <Identifier>
                            b
                        </Identifier>
                    </rightVal>
                </DivOp>
            </AssignStatement>
        </BodyOp>
    </ProcedureOp>
    <ProcedureOp>
        <Identifier>
            moltiplicazione
        </Identifier>
        <ProcFunParamOp>
            <Identifier qualifier='INOUT'>
                a
            </Identifier>
            <Type>
                REAL
            </Type>
        </ProcFunParamOp>
        <ProcFunParamOp>
            <Identifier qualifier='INOUT'>
                b
            </Identifier>
            <Type>
                REAL
            </Type>
        </ProcFunParamOp>
        <ProcFunParamOp>
            <Identifier qualifier='OUT'>
                risultato
            </Identifier>
            <Type>
                REAL
            </Type>
        </ProcFunParamOp>
        <BodyOp>
            <AssignStatement>
                <Identifier>
                    risultato
                </Identifier>
                <MulOp>
                    <leftVal>
                        <Identifier>
                            a
                        </Identifier>
                    </leftVal>
                    <rightVal>
                        <Identifier>
                            b
                        </Identifier>
                    </rightVal>
                </MulOp>
            </AssignStatement>
        </BodyOp>
    </ProcedureOp>
    <FunctionOp>
        <Identifier>
            somma
        </Identifier>
        <ProcFunParamOp>
            <Identifier qualifier='IN'>
                a
            </Identifier>
            <Type>
                REAL
            </Type>
        </ProcFunParamOp>
        <ProcFunParamOp>
            <Identifier qualifier='IN'>
                b
            </Identifier>
            <Type>
                REAL
            </Type>
        </ProcFunParamOp>
        <ReturnTypes>
            REAL
        </ReturnTypes>
        <BodyOp>
            <VarDeclOp>
                <IdentifierExpression>
                    <Identifier>
                        risultato
                    </Identifier>
                </IdentifierExpression>
                <Type>
                    REAL
                </Type>
                <DeclarationType>
                    DECLARATION
                </DeclarationType>
            </VarDeclOp>
            <AssignStatement>
                <Identifier>
                    risultato
                </Identifier>
                <AddOp>
                    <leftVal>
                        <Identifier>
                            a
                        </Identifier>
                    </leftVal>
                    <rightVal>
                        <Identifier>
                            b
                        </Identifier>
                    </rightVal>
                </AddOp>
            </AssignStatement>
            <ReturnStatement>
                <Identifier>
                    risultato
                </Identifier>
            </ReturnStatement>
        </BodyOp>
    </FunctionOp>
    <FunctionOp>
        <Identifier>
            sottrazione
        </Identifier>
        <ProcFunParamOp>
            <Identifier qualifier='IN'>
                a
            </Identifier>
            <Type>
                REAL
            </Type>
        </ProcFunParamOp>
        <ProcFunParamOp>
            <Identifier qualifier='IN'>
                b
            </Identifier>
            <Type>
                REAL
            </Type>
        </ProcFunParamOp>
        <ReturnTypes>
            REAL
        </ReturnTypes>
        <BodyOp>
            <VarDeclOp>
                <IdentifierExpression>
                    <Identifier>
                        risultato
                    </Identifier>
                </IdentifierExpression>
                <Type>
                    REAL
                </Type>
                <DeclarationType>
                    DECLARATION
                </DeclarationType>
            </VarDeclOp>
            <AssignStatement>
                <Identifier>
                    risultato
                </Identifier>
                <DiffOp>
                    <leftVal>
                        <Identifier>
                            a
                        </Identifier>
                    </leftVal>
                    <rightVal>
                        <Identifier>
                            b
                        </Identifier>
                    </rightVal>
                </DiffOp>
            </AssignStatement>
            <ReturnStatement>
                <Identifier>
                    risultato
                </Identifier>
            </ReturnStatement>
        </BodyOp>
    </FunctionOp>
</ProgramOp>
